# installed VM ubuntu 16.04 with username cohadar and vmname piglet-ami
# removed swap partition, no need for it inside vm
# VM uses bridged mode

# set up remote login
sudo apt-get install openssh-server
sudo service ssh status
sudo gedit /etc/ssh/sshd_config
	PasswordAuthentication no
	ChallengeResponseAuthentication no
	PermitEmptyPassword no
mkdir ~/.ssh
nc -l 1234 >> ~/.ssh/authorized_keys
on-laptop$ cat ~/.ssh/id_rsa.pub | nc piglet-ami.local 1234

# test it
on-laptop$ ssh piglet-ami.local

# shutdown piglet-ami and make a clone piglet-alfa, make sure to use 'regenerate MAC' option
# start piglet-alfa, make sure piglet-ami is down!!!

# time to setup hostname, note we are targeting piglet-ami.local url becuse hostname is not set.
on-laptop$ env VM_URL=piglet-ami.local VM_HOSTNAME=piglet-alfa VM_SUDOPASS=**** ./remote.sh vm-init-hostname.sh

# test if hostname is updated
ping piglet-alfa.local



